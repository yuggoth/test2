    let data = [{
      "title": "Модель",
      "code": "model",
      "config": [{
        "id": "0",
        "text": "MacBook Air"
      }, {
        "id": "1",
        "text": "MacBook Pro"
      }, {
        "id": "2",
        "text": "MacBook Pro with Touch Bar"
      }]
    }, {
      "title": "Цвет",
      "code": "color",
      "config": [{
        "id": "0",
        "text": "Silver"
      }, {
        "id": "1",
        "text": "Gold"
      }, {
        "id": "2",
        "text": "Space Gray"
      }]
    }, {
      "title": "Развмер",
      "code": "size",
      "config": [{
        "id": "0",
        "text": "13″"
      }, {
        "id": "1",
        "text": "15″"
      }, {
        "id": "2",
        "text": "16″"
      }]
    }, {
      "title": "Процессор",
      "code": "processor",
      "config": [{
        "id": "0",
        "text": "16-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "1",
        "text": "14-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "2",
        "text": "12-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "3",
        "text": "8-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "4",
        "text": "6-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "5",
        "text": "4-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "6",
        "text": "2-ядерный процессор Intel Xeon W с тактовой частотой 3,5 ГГц, ускорение Turbo Boost до 4,0 ГГц",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }]
    }, {
      "title": "Оперативная память",
      "code": "ram",
      "config": [{
        "id": "0",
        "text": "32 ГБ (4 модуля по 8 ГБ) памяти DDR4 ECC",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "1",
        "text": "16 ГБ (4 модуля по 8 ГБ) памяти DDR4 ECC",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "2",
        "text": "8 ГБ (4 модуля по 8 ГБ) памяти DDR4 ECC",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }]
    }, {
      "title": "Графический процессор",
      "code": "gpu",
      "config": [{
        "id": "0",
        "text": "Графический процессор Radeon Pro 580X с 8 ГБ памяти GDDR5",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "1",
        "text": "Графический процессор Radeon Pro 560X с 6 ГБ памяти GDDR5",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "2",
        "text": "Графический процессор Radeon Pro 540X с 4 ГБ памяти GDDR5",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }]
    }, {
      "title": "Накопитель",
      "code": "disk",
      "config": [{
        "id": "0",
        "text": "SSD‑накопитель ёмкостью 512 ГБ",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "1",
        "text": "SSD‑накопитель ёмкостью 256 ГБ",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "2",
        "text": "SSD‑накопитель ёмкостью 128 ГБ",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }]
    }, {
      "title": "Комплект",
      "code": "complect",
      "config": [{
        "id": "0",
        "text": "Стандартная установка на стол",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "1",
        "text": "Не cтандартная установка на стол",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }]
    }, {
      "title": "Корпус",
      "code": "box",
      "config": [{
        "id": "0",
        "text": "Корпус из нержавеющей стали, с ножками",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }, {
        "id": "1",
        "text": "Корпус из ржавеющей стали, с ножками",
        "extend": "Возможность подключения модуля 10/100/1000 BASE-T Gigabit Ethernet"
      }]
    }, {
      "title": "Клавиатура",
      "code": "keyboard",
      "config": [{
        "id": "0",
        "text": "Международная английская раскладка",
        "bundle": true,
        "extend": "Цвет Space Gray",
        "add": true
      }, {
        "id": "1",
        "text": "Международная русская раскладка",
        "bundle": true,
        "extend": "Цвет Space не Gray",
        "add": true
      }, {
        "id": "2",
        "text": "Не нужно",
        "bundle": true,
        "add": false
      }]
    }, {
      "title": "Мышь и трекпад",
      "code": "mouse",
      "config": [{
        "id": "0",
        "text": "Мышь Magic Mouse 2 и трекпад Magic Trackpad 2",
        "bundle": true,
        "extend": "Цвет Space Gray",
        "add": true
      }, {
        "id": "1",
        "text": "Мышь Magic Mouse 1 и трекпад Magic Trackpad 1",
        "bundle": true,
        "extend": "Цвет Space Gray",
        "add": true
      }, {
        "id": "2",
        "text": "Не нужно",
        "bundle": true,
        "add": false
      }]
    }];
    let result = [];
    let resultComplete = false;
    let tab1 = document.getElementById('tab1');
    let tab2 = document.getElementById('tab2');
    let tab3 = document.getElementById('tab3');
    //обработчик переключения табов
    let menuItems = document.querySelectorAll("#configurator > li");
    menuItems.forEach((item) => {
      item.addEventListener("click", (event) => {
        if (event.target.type === 'radio') {
          if (event.currentTarget.nextElementSibling && event.currentTarget.nextElementSibling.classList.contains('disabled')) {
            event.currentTarget.nextElementSibling.classList.remove('disabled');
            event.currentTarget.nextElementSibling.classList.add('active');
            event.currentTarget.classList.remove('active');
          } else {
            if (!event.currentTarget.nextElementSibling) {
              resultOut();
            }
          }
        } else {
          if (!event.currentTarget.classList.contains('disabled')) {
            menuItems.forEach((item) => {
              item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
          }
        }
      });
    })
    data.forEach(function(item, key) {
      let complect = false;
      let div = document.createElement('li');
      let span = document.createElement('span');
      let i = document.createElement('i');
      span.innerHTML = item.title
      span.append(i);
      span.addEventListener("click", (event) => {
        if (!event.currentTarget.parentNode.classList.contains('disabled')) {
          if (event.currentTarget.parentNode.classList.contains('active')) {
            event.currentTarget.parentNode.classList.remove("active");
          } else {
            event.currentTarget.parentNode.classList.add("active");
          }
        }
      });
      div.addEventListener("click", (event) => {
        if (event.target.type === 'radio') {
          if (event.currentTarget.nextSibling) {
            event.currentTarget.nextSibling.classList.remove('disabled');
            event.currentTarget.nextSibling.classList.add('active');
            event.stopPropagation();
          }
        }
      });
      div.append(span);
      div.setAttribute("code", item.code);
      let ul = document.createElement('ul');
      ul.classList.add('params');
      item.config.forEach(function(item1, i1, arr1) {
        if (item1['bundle'] != undefined) {
          complect = true;
        }
        let li = document.createElement('li');
        let input = document.createElement('input');
        input.type = "radio";
        if (typeof item1['add'] == 'boolean' && !item1['add']) {
          input.setAttribute('disabled', 'disabled');
	  input.classList.add('disabled');
        }
        input.id = item.code + item1.id;
        input.name = item.code;
        input.value = item1.id;
        let label = document.createElement('label');
        label.setAttribute('for', item.code + item1.id);
        label.innerHTML = item1.text;
        if (item1.extend) {
          labelSpan = document.createElement('span');
          labelSpan.innerHTML = item1.extend
          label.append(labelSpan);
        }
        input.addEventListener("click", (event) => {
          result[event.currentTarget.name] = event.currentTarget.value;
          if (resultComplete) resultOut();
        });
        li.append(input);
        li.append(label);
        ul.append(li);
      });
      div.append(ul);
      //вставляем в главное меню
      if (!key) {
        div.classList.add('active');
        tab1.append(div);
      } else {
        if (complect) {
          if (tab3.innerHTML) {
            div.classList.add('disabled');
          } else {
            div.classList.add('active');
          }
          tab3.append(div);
        } else {
          if (tab2.innerHTML) {
            div.classList.add('disabled');
          } else {
            div.classList.add('active');
          }
          tab2.append(div);
        }
      }
    });

    //функция вывода результата
    function resultOut() {
      let resultContainer = document.getElementById('result');
      resultContainer.innerHTML = '';
      data.forEach(function(item) {
        if (result[item['code']]) {
          item["config"].forEach(function(item1) {
            if (item1["id"] == result[item['code']]) {
              let resultLi = document.createElement('li');
              let b = document.createElement('strong');
              b.innerHTML = item['title'] + ': ';
              resultLi.append(b);
              resultLi.append(item1["text"]);
              resultContainer.append(resultLi);
            }
          });
        }
      });
      resultComplete = true;
    }
